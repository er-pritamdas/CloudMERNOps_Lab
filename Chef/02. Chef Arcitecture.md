# ðŸ—ï¸ **Chef - Architecture Overview**

ðŸ‘¨â€ðŸ³ **Chef** follows a **three-tier client-server model** for configuration management and automation.

---

## ðŸ§© **Chef Architecture Components**

### ðŸ’» **1. Chef Workstation**

* ðŸ  **Local machine** where:
  * ðŸ§± Cookbooks, Recipes, and other artifacts are  **developed** .
  * ðŸ› ï¸ Uses **command-line tools** like `knife` to interact with the server.
* ðŸ“¤ Uploads configurations to the  **Chef Server** .
* ðŸ“Œ Primary  **developer interface** .

---

### ðŸ–¥ï¸ **2. Chef Server**

* ðŸ§  Acts as the **central hub** of the Chef ecosystem.
* ðŸ—‚ï¸ Stores all the uploaded  **Cookbooks** ,  **Policies** , and  **Metadata** .
* ðŸ” Handles requests from **nodes** during Chef client runs.
* â˜ï¸ Can be:
  * ðŸŒ **Hosted Chef Server** (SaaS)
  * ðŸ¢ **On-premise Chef Server**

---

### ðŸ–¥ï¸ **3. Chef Nodes**

* ðŸ§‘â€ðŸ’» Actual **target machines** (servers, VMs, containers, etc.) that:
  * Need to be **configured** and  **managed** .
* ðŸ§© Each node runs:
  * âš™ï¸ **Chef Client** â†’ Talks to Chef Server.
  * ðŸ§  **Ohai** â†’ Collects system info (CPU, Memory, OS, etc.).
* ðŸ”„ Chef Client periodically:
  * ðŸ“¥ Fetches **cookbooks**
  * ðŸ› ï¸ Applies configurations
  * ðŸ“¤ Sends status reports

---

## ðŸ” **Chef Workflow Summary**

1. ðŸ§‘â€ðŸ’» **Write code** (recipes/cookbooks) on  **Chef Workstation** .
2. ðŸ”ª Use **knife** to **upload** configurations to  **Chef Server** .
3. ðŸ–¥ï¸ **Nodes** (with Chef client) **pull configs** and apply them.
4. ðŸ§  **Ohai** gathers node info and syncs with server.

---

### ðŸ“Œ **Chef Communication Flow**

```mermaid
graph TD
  A["ðŸ’» Chef Workstation"]
  B["ðŸ”ª knife CLI"]
  C["ðŸ–¥ï¸ Chef Server"]
  D1["ðŸ§‘â€ðŸ’» Node 1"]
  D2["ðŸ§‘â€ðŸ’» Node 2"]
  D3["ðŸ§‘â€ðŸ’» Node N"]
  E1["âš™ï¸ Chef Client"]
  E2["âš™ï¸ Chef Client"]
  E3["âš™ï¸ Chef Client"]
  F1["ðŸ§  Ohai"]
  F2["ðŸ§  Ohai"]
  F3["ðŸ§  Ohai"]

  A --> B
  B --> C
  C --> E1
  C --> E2
  C --> E3
  E1 --> D1
  E2 --> D2
  E3 --> D3
  F1 --> C
  F2 --> C
  F3 --> C
  D1 --> F1
  D2 --> F2
  D3 --> F3
```

